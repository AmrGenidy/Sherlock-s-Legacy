<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="mainBorderPane" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ui.MainController">
  
  <!-- Top: Button Bar -->
  <top>
    <HBox spacing="10" style="-fx-background-color: #2c2c2c; -fx-padding: 10;">
      <Button fx:id="tasksButton" text="Tasks" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>
      
      <Button fx:id="journalButton" text="Journal" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>

      <Button fx:id="pinboardButton" text="Pinboard" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>

      <StackPane>
        <Button fx:id="chatButton" text="Chat" styleClass="top-button">
          <font>
            <Font size="14"/>
          </font>
        </Button>
        <Label fx:id="unreadChatLabel" text="0" 
               style="-fx-background-color: red; -fx-text-fill: white; -fx-background-radius: 10; -fx-padding: 2 6 2 6; -fx-font-size: 10; -fx-font-weight: bold;"
               StackPane.alignment="TOP_RIGHT" translateX="-5" translateY="5"/>
      </StackPane>

      <Button fx:id="finalExamButton" text="Final Exam" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>

      <Button fx:id="helpButton" text="Help" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>

      <Button fx:id="exitButton" text="Exit" styleClass="top-button">
        <font>
          <Font size="14"/>
        </font>
      </Button>
      
      <Region HBox.hgrow="ALWAYS"/>
      
      <Label text="Detective Game - JavaFX Client" style="-fx-text-fill: #d4af37; -fx-font-size: 16; -fx-font-weight: bold;"/>
    </HBox>
  </top>

  <!-- Center: Room Visualization -->
  <center>
    <StackPane fx:id="roomPane" style="-fx-background-color: #1a1a1a;">
      <Label text="Room View" style="-fx-text-fill: #808080; -fx-font-size: 24;"/>
    </StackPane>
  </center>

  <!-- Right: Info Panel -->
  <right>
    <VBox fx:id="rightInfoPanel" spacing="10" style="-fx-background-color: #252525; -fx-padding: 10;" prefWidth="200">
      <Label text="Room Information" style="-fx-text-fill: #d4af37; -fx-font-weight: bold; -fx-font-size: 14;"/>
      <Separator/>
      
      <Label text="Neighboring Rooms:" style="-fx-text-fill: #cccccc; -fx-font-size: 12;"/>
      <VBox fx:id="neighboringRoomsContainer" spacing="5"/>
    </VBox>
  </right>

  <!-- Bottom: Terminal and Status -->
  <bottom>
    <SplitPane fx:id="bottomSplitPane" dividerPositions="0.7" orientation="HORIZONTAL">
      <!-- Left: Terminal -->
      <VBox spacing="5" style="-fx-background-color: #1a1a1a; -fx-padding: 10;">
        <Label text="Terminal" style="-fx-text-fill: #d4af37; -fx-font-weight: bold;"/>
        <TextArea fx:id="terminalTextArea" wrapText="true" editable="false" 
                  style="-fx-control-inner-background: #0a0a0a; -fx-text-fill: #00ff00; -fx-font-family: 'Courier New'; -fx-font-size: 12;"
                  VBox.vgrow="ALWAYS" prefHeight="200"/>
        <HBox spacing="5">
          <Label text=">" style="-fx-text-fill: #00ff00; -fx-font-family: 'Courier New';"/>
          <TextField fx:id="terminalInputField" promptText="Enter command..." 
                     style="-fx-background-color: #0a0a0a; -fx-text-fill: #00ff00; -fx-prompt-text-fill: #006600; -fx-font-family: 'Courier New';"
                     HBox.hgrow="ALWAYS"/>
        </HBox>
      </VBox>
      
      <!-- Right: Status Area -->
      <VBox spacing="10" style="-fx-background-color: #252525; -fx-padding: 10;">
        <Label text="Status" style="-fx-text-fill: #d4af37; -fx-font-weight: bold;"/>
        <Separator/>
        <Label fx:id="statusLabel" text="Initializing..." wrapText="true" 
               style="-fx-text-fill: #cccccc; -fx-font-size: 12;"/>
      </VBox>
    </SplitPane>
  </bottom>
  
</BorderPane>
